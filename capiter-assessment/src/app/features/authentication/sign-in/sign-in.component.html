<div fxLayout="row" class="h-100-p">
    <div fxFlex="30%" 
    class="login-content h-100-p bg-primary p-5">
        <h2 class="text-white">Login</h2>
    </div>
    <div fxFlex="70%" class="h-100-p flex-column d-flex">
        <div class="d-flex justify-content-end p-4">
            <a mat-stroked-button color="primary"
            [routerLink]="['/authentication/signup']">
                Register
            </a>
        </div>
        <div class="flex-fill d-flex w-100 pb-5 mb-5
        align-items-center justify-content-center"
        fxLayout="row">
            <div fxFlex="50%" class="margin-auto mb-5 pb-5">
                <h1 class="pb-2 fs-4">Sign in</h1>
                <form [formGroup]="signInForm" novalidate
                class="w-100 mt-4" (ngSubmit)="onSubmit()">
                    <div class="w-100">
                        <mat-form-field appearance="fill"
                        color="primary" class="w-100">
                            <mat-label>Email</mat-label>
                            <input type="email" name="email"
                            placeholder="Enter email..."
                            matInput formControlName="email"
                            autocomplete="new-password">
                        </mat-form-field>
                        <div [ngTemplateOutlet]="validationTpl"
                        [ngTemplateOutletContext]="{
                            key: 'email', msg: 'Email required'}"></div>
                    </div>
                    <div class="w-100 pt-2">
                        <mat-form-field appearance="fill"
                        color="primary" class="w-100">
                            <mat-label>Password</mat-label>
                            <input type="password" name="password"
                            placeholder="***************"
                            matInput formControlName="password"
                            autocomplete="new-password">
                        </mat-form-field>
                        <div [ngTemplateOutlet]="validationTpl"
                        [ngTemplateOutletContext]="{
                            key: 'password', msg: 'Password required'}"></div>
                    </div>
                    <div class="d-flex w-100p pb-5 pt-2">
                        <button mat-raised-button
                        color="primary" class="px-3">
                            Sign in
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<ng-template #validationTpl let-key="key" let-msg="msg">
    <div *ngIf="(submitted || frm![key].touched) && 
    frm![key].errors" class="invalid-feedback d-flex mt-n3">
        <div *ngIf="frm![key].errors!['required']">{{msg}}</div>
    </div>
</ng-template>